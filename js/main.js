document.addEventListener("DOMContentLoaded",function(){var v=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);v.length>0&&v.forEach(e=>{e.addEventListener("click",function(){var t=e.dataset.target,n=document.getElementById(t);e.classList.toggle("is-active"),n.classList.toggle("is-active")})});var u=Array.prototype.slice.call(document.querySelectorAll(".navbar-item.has-dropdown"),0);u.length>0&&u.forEach(e=>{e.addEventListener("click",function(){e.classList.toggle("is-open")})});var w=document.getElementById("carousel-container");try{if(w&&!window.inEditorMode){var a=tns({container:"#carousel-container",items:1,slideBy:"page",preventScrollOnTouch:"auto",speed:400,edgePadding:0,mouseDrag:!0,autoHeight:!0,nav:!1,loop:!1,controls:!0,controlsContainer:document.getElementById("controls-container"),lazyload:!0,arrowKeys:!1,onInit:function(){var e=Array.prototype.slice.call(document.querySelectorAll(".carousel-highlight-container"),0);e.forEach(t=>{t.classList.remove("is-hidden")})}}),E=function(e,t){a.updateSliderHeight()};a.events.on("indexChanged",E);var r=document.getElementById("autoplay-button");if(a&&r){var i=function(){clearInterval(p),r.dataset.action="start"},p,y=function(){p=setInterval(function(){a.goTo("next");var e=a.getInfo();e.slideCount===e.displayIndex&&i()},1e4)};y(),r.addEventListener("click",function(){var e=r.dataset.action;e==="stop"?i():(y(),r.dataset.action="stop")}),document.addEventListener("keydown",function(e){e.keyCode===37?(i(),a.goTo("prev")):e.keyCode===39&&(i(),a.goTo("next"))})}}}catch{console.error("Could not instantiate TNS to load carousel")}var L=document.getElementById("donation-content-container"),h=document.getElementById("loading-container"),_=document.getElementById("success-container"),b=document.getElementById("error-container"),f=Array.prototype.slice.call(document.querySelectorAll(".modal-opener"),0),S=function(){window.stripeLoaded=!0},I=function(){window.paypalModalCodeLoaded=!0};f.length>0&&f.forEach(e=>{e.addEventListener("click",function(){var t=e.dataset.target;if(t==="donation-modal"){if(window.asyncLoadPaypalScript(),window.paypalModalCodeLoaded===!1){const d=document.getElementById("sponsor-content").dataset.paypalScriptSrc;window.lazyLoadScript(d,I,"async_paypal_subscriptions_modal_js_load_fail")}if(window.stripeLoaded===!1){window.lazyLoadScript("https://js.stripe.com/v3",S,"async_stripe_load_fail");var n=document.getElementById("payment-modal-src").dataset.src;window.lazyLoadScript(n,void 0,"async_payment_modal_fail")}window.trackEvent("donation_model_open")}var m=document.getElementById(t);L.classList.remove("is-hidden"),h.classList.add("is-hidden"),_.classList.add("is-hidden"),b.classList.add("is-hidden"),document.documentElement.classList.add("is-clipped"),m.classList.add("is-active")})});var g=Array.prototype.slice.call(document.querySelectorAll(".modal-closer"),0);g.length>0&&g.forEach(e=>{e.addEventListener("click",function(){var t=e.dataset.target;t==="donation-modal"&&window.trackEvent("donation_model_close");var n=document.getElementById(t);document.documentElement.classList.remove("is-clipped"),n.classList.remove("is-active")})});var l=Array.prototype.slice.call(document.querySelectorAll(".tab"),0),A=Array.prototype.slice.call(document.querySelectorAll(".tab-content"),0);l.length>0&&l.forEach(e=>{e.addEventListener("click",function(){var t=e.dataset.target;if(["donate-now-content","sponsor-content"].indexOf(t)!==-1){var n=t==="donate-now-content"?"one_time":"monthly_donation";window.trackEvent("donation_model_view",{donation_type:n})}var m=document.getElementById(t);l.forEach(d=>{d.classList.remove("is-active")}),A.forEach(d=>{d.classList.remove("is-active")}),e.classList.add("is-active"),m.classList.add("is-active")})});for(var c=document.querySelectorAll(".youtube-player-container"),o=0;o<c.length;o++){var s=new Image;s.alt="preview image",s.src="https://img.youtube.com/vi/"+c[o].dataset.embed+"/sddefault.jpg",s.addEventListener("load",function(){c[o].appendChild(s)}(o)),c[o].addEventListener("click",function(){var e=document.createElement("iframe");e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),e.setAttribute("src","https://www.youtube.com/embed/"+this.dataset.embed+"?rel=0&showinfo=0&autoplay=1"),this.innerHTML="",this.appendChild(e)})}});
