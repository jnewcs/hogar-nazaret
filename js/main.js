document.addEventListener("DOMContentLoaded",function(){var g=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);g.length>0&&g.forEach(e=>{e.addEventListener("click",function(){var t=e.dataset.target,n=document.getElementById(t);e.classList.toggle("is-active"),n.classList.toggle("is-active")})});var E=Array.prototype.slice.call(document.querySelectorAll(".navbar-item.has-dropdown"),0);E.length>0&&E.forEach(e=>{e.addEventListener("click",function(){e.classList.toggle("is-open")})});var C=document.getElementById("carousel-container");try{if(C&&!window.inEditorMode){var o=tns({container:"#carousel-container",items:1,slideBy:"page",preventScrollOnTouch:"auto",speed:400,edgePadding:0,mouseDrag:!0,autoHeight:!0,nav:!1,loop:!1,controls:!0,controlsContainer:document.getElementById("controls-container"),lazyload:!0,arrowKeys:!1,onInit:function(){var e=Array.prototype.slice.call(document.querySelectorAll(".carousel-highlight-container"),0);e.forEach(t=>{t.classList.remove("is-hidden")})}}),B=function(e,t){o.updateSliderHeight()};o.events.on("indexChanged",B);var r=document.getElementById("autoplay-button");if(o&&r){var c=function(){clearInterval(_),r.dataset.action="start"},_,S=function(){_=setInterval(function(){o.goTo("next");var e=o.getInfo();e.slideCount===e.displayIndex&&c()},1e4)};S(),r.addEventListener("click",function(){var e=r.dataset.action;e==="stop"?c():(S(),r.dataset.action="stop")}),document.addEventListener("keydown",function(e){e.keyCode===37?(c(),o.goTo("prev")):e.keyCode===39&&(c(),o.goTo("next"))})}}}catch{console.error("Could not instantiate TNS to load carousel")}var l=document.getElementById("donation-content-container"),m=document.getElementById("loading-container"),v=document.getElementById("success-container"),p=document.getElementById("error-container"),u=document.getElementById("canceled-container"),h=document.getElementById("donation-modal-close-btn"),b=Array.prototype.slice.call(document.querySelectorAll(".modal-opener"),0),T=function(){window.stripeLoaded=!0},q=function(){window.athMovilLoaded=!0},$=function(){window.paypalModalCodeLoaded=!0};b.length>0&&b.forEach(e=>{e.addEventListener("click",function(){var t=e.dataset.target;if(t==="donation-modal"){if(window.asyncLoadPaypalScript(),window.paypalModalCodeLoaded===!1){const i=document.getElementById("sponsor-content").dataset.paypalScriptSrc;window.lazyLoadScript(i,$,"async_paypal_subscriptions_modal_js_load_fail")}if(window.stripeLoaded===!1){window.lazyLoadScript("https://js.stripe.com/v3",T,"async_stripe_load_fail");var n=document.getElementById("payment-modal-src").dataset.src;window.lazyLoadScript(n,void 0,"async_payment_modal_fail")}if(window.athMovilLoaded===!1){var a=document.getElementById("ath-modal-src").dataset;ATHM_Checkout={env:"production",publicToken:a.token,theme:"btn",lang:a.lang,total:15,tax:null,subtotal:15,items:[{name:a.name,description:a.description,quantity:1,price:15,tax:null,metadata:null}],onCompletedPayment:function(i){window.trackEvent("ath_movil_payment_complete",i),l.classList.add("is-hidden"),m.classList.add("is-hidden"),p.classList.add("is-hidden"),u.classList.add("is-hidden"),v.classList.remove("is-hidden"),h.classList.remove("is-hidden")},onCancelledPayment:function(i){window.trackEvent("ath_movil_payment_cancelled"),l.classList.add("is-hidden"),m.classList.add("is-hidden"),p.classList.add("is-hidden"),v.classList.add("is-hidden"),u.classList.remove("is-hidden"),h.classList.remove("is-hidden")},onExpiredPayment:function(i){window.trackEvent("ath_movil_payment_attempt_expired")},onUnknownPayment:function(i){window.trackEvent("ath_movil_payment_generic_error"),l.classList.add("is-hidden"),m.classList.add("is-hidden"),u.classList.add("is-hidden"),v.classList.add("is-hidden"),p.classList.remove("is-hidden"),h.classList.remove("is-hidden")}},window.lazyLoadScript(a.scriptSrc||"https://www.athmovil.com/api/js/v2/athmovilV2.js",q,"async_ath_movil_load_fail")}window.trackEvent("donation_model_open")}var s=document.getElementById(t);l.classList.remove("is-hidden"),m.classList.add("is-hidden"),v.classList.add("is-hidden"),p.classList.add("is-hidden"),u.classList.add("is-hidden"),document.documentElement.classList.add("is-clipped"),s.classList.add("is-active")})});var k=Array.prototype.slice.call(document.querySelectorAll(".modal-closer"),0);k.length>0&&k.forEach(e=>{e.addEventListener("click",function(){var t=e.dataset.target;if(t==="donation-modal"){window.trackEvent("donation_model_close");var n=new URL(window.location.href);n.searchParams.delete("openDonationModal"),n.searchParams.delete("donationType"),window.history.replaceState({},document.title,n.toString())}var a=document.getElementById(t);document.documentElement.classList.remove("is-clipped"),a.classList.remove("is-active")})});var L=Array.prototype.slice.call(document.querySelectorAll(".tab"),0),x=Array.prototype.slice.call(document.querySelectorAll(".tab-content"),0);L.length>0&&L.forEach(e=>{e.addEventListener("click",function(){var t=e.dataset.target;if(["donate-now-content","sponsor-content"].indexOf(t)!==-1){var n=t==="donate-now-content"?"one_time":"monthly_donation";window.trackEvent("donation_model_view",{donation_type:n})}var a=document.getElementById(t);L.forEach(s=>{s.classList.remove("is-active")}),x.forEach(s=>{s.classList.remove("is-active")}),e.classList.add("is-active"),a.classList.add("is-active")})});for(var y=document.querySelectorAll(".youtube-player-container"),d=0;d<y.length;d++){var w=new Image;w.alt="preview image",w.src="https://img.youtube.com/vi/"+y[d].dataset.embed+"/sddefault.jpg",w.addEventListener("load",function(){y[d].appendChild(w)}(d)),y[d].addEventListener("click",function(){var e=document.createElement("iframe");e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),e.setAttribute("src","https://www.youtube.com/embed/"+this.dataset.embed+"?rel=0&showinfo=0&autoplay=1"),this.innerHTML="",this.appendChild(e)})}var f=new URLSearchParams(window.location.search);if(f&&f.has("openDonationModal")){var I=document.querySelector('a[data-target="donation-modal"]');if(I&&(I.click(),f.has("donationType"))){var M=f.get("donationType"),A=document.querySelector('.tab[data-target="'+M+'"]');A&&A.click()}}document.addEventListener("click",function(e){if(e.target&&e.target.id==="reopen-btn"){let t=new URL(window.location.href),n=new URLSearchParams(t.search);n.set("openDonationModal","true"),n.set("donationType","donate-now-content"),t.search=n.toString(),window.location.href===t.toString()?window.location.reload(!0):window.location.href=t.toString()}})});
